{"openapi":"3.1.0","info":{"title":"RetailCRM Integration Service","version":"0.1.0"},"paths":{"/metrics":{"get":{"summary":"Metrics","description":"Endpoint that serves Prometheus metrics.","operationId":"metrics_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/customers":{"get":{"tags":["customers"],"summary":"List Customers","operationId":"list_customers_api_v1_customers_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response List Customers Api V1 Customers Get"}}}}}},"post":{"tags":["customers"],"summary":"Create Customer","operationId":"create_customer_api_v1_customers_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Create Customer Api V1 Customers Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/customers/{customer_id}/orders":{"get":{"tags":["customers"],"summary":"List Customer Orders","description":"Получение заказов клиента по его ID.","operationId":"list_customer_orders_api_v1_customers__customer_id__orders_get","parameters":[{"name":"customer_id","in":"path","required":true,"schema":{"type":"integer","title":"Customer Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response List Customer Orders Api V1 Customers  Customer Id  Orders Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/orders":{"get":{"tags":["orders"],"summary":"List Orders","operationId":"list_orders_api_v1_orders_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response List Orders Api V1 Orders Get"}}}}}},"post":{"tags":["orders"],"summary":"Create Order","operationId":"create_order_api_v1_orders_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Create Order Api V1 Orders Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments":{"post":{"tags":["payments"],"summary":"Create Payment","operationId":"create_payment_api_v1_payments_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Create Payment Api V1 Payments Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Health Check Health Get"}}}}},"security":[{"APIKeyHeader":[]}]}}},"components":{"schemas":{"CustomerCreate":{"properties":{"firstName":{"type":"string","title":"Firstname"},"email":{"type":"string","format":"email","title":"Email"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"}},"type":"object","required":["firstName","email"],"title":"CustomerCreate"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"OrderCreate":{"properties":{"number":{"type":"string","title":"Number"},"customer_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Customer Id"},"items":{"items":{"$ref":"#/components/schemas/OrderItem"},"type":"array","title":"Items"}},"type":"object","required":["number","items"],"title":"OrderCreate"},"OrderItem":{"properties":{"offer_id":{"type":"integer","title":"Offer Id"},"quantity":{"type":"integer","title":"Quantity"},"price":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}],"title":"Price"}},"type":"object","required":["offer_id","quantity","price"],"title":"OrderItem"},"PaymentCreate":{"properties":{"order_id":{"type":"integer","title":"Order Id"},"amount":{"anyOf":[{"type":"number"},{"type":"string","pattern":"^(?!^[-+.]*$)[+-]?0*\\d*\\.?\\d*$"}],"title":"Amount"},"type":{"type":"string","title":"Type"}},"type":"object","required":["order_id","amount","type"],"title":"PaymentCreate"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"APIKeyHeader":{"type":"apiKey","in":"header","name":"X-API-KEY"}}}}